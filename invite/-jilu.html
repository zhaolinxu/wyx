<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" cotent="IE=edge,chrome=1" />
		<!--禁止缓存-测试时用-->
		<meta http-equiv="expires" content="0">
		<meta http-equiv="pragma" content="no-cache">
		<meta http-equiv="cache-control" content="no-cache">
		<!--禁止缓存-测试时用-->
		<!--禁止禁止识别电话号码和邮件-->
		<meta name="format-detection" content="telephone=no, email=no" />
		<!--禁止禁止识别电话号码和邮件-->
		<!--移动端1:1显示页面-->
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<title>邀请好友</title>
		<link rel="stylesheet" type="text/css" href="css/pullToRefresh.css" />
		<link rel="stylesheet" href="css/invite.css" />
	</head>

	<body>

		<div class="container jilu">
			<img class="banner" src="images/banner.png" />
			<div class="box-head">
				<div class="inner"></div>
			</div>
			<div class="box box-top">
				<div class="prize">
					<h2>邀请多多，奖励多多<div></div></h2>
					<div class="dec-1">每成功邀请一位好友注册无忧行</div>
					<!--加class：has-coupon，左边显示红底，右边红字-->
					<!--加class：no-coupon，左边显示灰底，右边灰字-->
					<div class="coupon no-coupon">

						<ul>
							<li><img class="c-1" src="images/couon-l-1.png" /><img class="c-2" src="images/couon-l-2.png" /></li>
							<li><img src="images/couon-r-1.png" />
								<div class="rr">50无忧币</div>
							</li>
							<li><img src="images/couon-r-2.png" /></li>
						</ul>
					</div>
					<div class="dec-2">好友接受邀请并在6天内注册无忧行，<br />您可在本页面领取奖励</div>

					<!--按钮加class：disable，显示灰底-->
					<!--邀请好友按钮-->
					<input class="button btn-yaoqing hide" type="button" name="" id="" value="邀请好友" />
					<!--立即邀请-->
					<input class="button btn-yaoqing hide" type="button" name="" id="" value="立即邀请" />
					<!--领取奖励按钮-->
					<input class="button btn-lingqu " type="button" name="" id="" value="领取所有奖励" />
					<a href="#" class="link-rule">活动规则<img src="images/Invitefriends_icon_question@3x.png" alt="" /></a>
					<!--活动结束右上角标志-->
					<div class="end"><img src="images/Invitefriends_icon_finish@3x.png" /></div>
				</div>
			</div>
			<div class="box-head head-bottom">
				<div class="inner"></div>
			</div>
			<!--没有邀请到  start-->
			<div class="box box-bottom">
				<div class="friends">
					<h2>共<span>0</span>位好友接受邀请<div></div></h2>
					<!--没邀请到好友-->
					<div class="friends-null hide">
						<img class="no-friends" src="images/Invitefriends_icon_empty@3x.png" />
						<div class="dec-3">尚未有好友接受您的邀请</div>
					</div>
					<!--邀请到好友-->
					<div class="friends-full ">
						<div id="wrapper">
							<div class="pullDown">
								<div class="pullDownIcon"></div>
								<div class="pullDownLabel"></div>
							</div>
							<ul class="friend-list">
								<li>
									<img class="face" src="images/face.png" alt="" />
									<div class="center">
										<div>kk/13588490313</div>
										<span>已注册无忧行用户</span>
									</div>
									<input class="button disable" type="button" name="" id="" value="已领取" />
								</li>
								<li>
									<img class="face" src="images/face.png" alt="" />
									<div class="center">
										<div>kk/13588490313</div>
										<span>已注册无忧行用户</span>
									</div>
									<input class="button disable" type="button" name="" id="" value="已领取" />
								</li>
								<li>
									<img class="face" src="images/face.png" alt="" />
									<div class="center">
										<div>kk/13588490313</div>
										<span>用户注册后您可领取</span>
									</div>
									<input class="button disable" type="button" name="" id="" value="500枚无忧币" />
								</li>
								<li>
									<img class="face" src="images/face.png" alt="" />
									<div class="center">
										<div>kk/13588490313</div>
										<span>已注册无忧行用户</span>
									</div>
									<input class="button" type="button" name="" id="" value="领取" />
								</li>
								<li>
									<img class="face" src="images/face.png" alt="" />
									<div class="center">
										<div>kk/13588490313</div>
										<span class="failed">您的邀请已过期</span>
									</div>
									<input class="button" type="button" name="" id="" value="再次邀请" />
								</li>
							</ul>
							<div class="pullUp">
								<div class="pullUpIcon"></div>
								<div class="pullUpLabel">向上滑动加载更多～</div>
							</div>
						</div>
						<!--<div class="dec-3">向上滑动加载更多～</div>-->
					</div>
				</div>
			</div>
			<!--没有邀请到 end-->
		</div>

		<!--规则弹出框-->
		<div class="dialog dialog-rule">
			<div class="dialog-content">
				<h2>活动规则</h2>
				<ul class="rules">
					<li>1. 该活动仅限中国移动用户参与；</li>
					<li>2. 发送至该手机号的奖励需要在无忧行APP内注册后才能使用；</li>
					<li>3. 该奖励领取后请于7天内注册领取，否则奖励失效；</li>
					<li>4. 无忧行保留翻绿范围内的最终解释权；</li>
				</ul>
				<input class="button close" type="button" name="" id="" value="我知道了" />
			</div>
		</div>
		<!--领取成功弹出框-->
		<div class="dialog dialog-success">
			<div class="dialog-content">
				<h2>恭喜您获得</h2>
				<div class="bi">
					<img src="images/Invitefriends_icon_coin@3x.png" />
					<span>50无忧币</span>
				</div>
				<div class="bi">
					<img src="images/Invitefriends_icon_traffic@3x.png" />
					<span>5张流量券</span>
				</div>
				<div class="bi">
					<img src="images/Invitefriends_icon_coupon@3x.png" />
					<span>3张现金券</span>
				</div>
				<div class="info">您共邀请了n位好友注册，继续 邀请获得更多的奖励吧！
				</div>
				<input class="button close" type="button" name="" id="" value="继续邀请" />
			</div>
		</div>
		<script src="js/jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		<script>
			$(function() {
				//弹出框：规则
				$(".link-rule").click(function() {
					$(".dialog-rule").fadeIn(200);

				});
				//弹出框：领取成功
				$(".btn-lingqu").click(function() {
					$(".dialog-success").fadeIn(200);
				});
				//关闭弹出框
				$(".close").click(function() {

					$(".dialog").fadeOut(300);
				});

			});
		</script>
		<!--下拉刷新-->
		<!--<script src="js/iscroll.js"></script>
		<script src="js/pullToRefresh.js"></script>-->
		<script>
			//			function Refresh() {
			//				setTimeout(function() { // <-- Simulate network congestion, remove setTimeout from production!
			//					var el, li, i;
			//					el = document.querySelector("#wrapper ul");
			//					//这里写你的刷新代码				
			//					document.getElementById("wrapper").querySelector(".pullDownIcon").style.display = "none";
			//					document.getElementById("wrapper").querySelector(".pullDownLabel").innerHTML = "<img src='css/ok.png'/>刷新成功";
			//					setTimeout(function() {
			//						wrapper.refresh();
			//						document.getElementById("wrapper").querySelector(".pullDownLabel").innerHTML = "";
			//					}, 1000); //模拟qq下拉刷新显示成功效果
			//					/****remember to refresh after  action completed！ ---yourId.refresh(); ----| ****/
			//				}, 1000);
			//			}
			//			setInterval("Refresh()","2000");

			function tobottom() {
				var h = $(document).height() - $(window).height();
				$(document).scrollTop(h);
			}

			function Load() {
				setTimeout(function() { // <-- Simulate network congestion, remove setTimeout from production!
					var el, li, i;
					el = document.querySelector("#wrapper ul");
					for(i = 0; i < 2; i++) {
						li = document.createElement('li');
						li.innerHTML = '<img class="face" src="images/face.png" alt="" /><div class="center"><div>kk/13588490313</div><span>已注册无忧行用户</span></div><input class="button" type="button" name="" id="" value="领取" />';
						el.appendChild(li, el.childNodes[0]);
					}
					tobottom();

				}, 2000);
			}
			//全局变量，触摸开始位置
			var startX = 0,
				startY = 0;

			//touchstart事件
			function touchSatrtFunc(evt) {
				//				evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等
				var touch = evt.touches[0]; //获取第一个触点
				var x = touch.pageX; //页面触点X坐标
				var y = touch.pageY; //页面触点Y坐标
				//记录触点初始位置
				startX = x;
				startY = y;
				console.log('TouchStart事件触发：（' + x + ', ' + y + '）');
			}

			//touchmove事件，这个事件无法获取坐标
			function touchMoveFunc(evt) {
				//				evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等
				var touch = evt.touches[0]; //获取第一个触点
				var x = touch.pageX; //页面触点X坐标
				var y = touch.pageY; //页面触点Y坐标

				var text = 'TouchMove事件触发：（' + x + ', ' + y + '）';
				if(y - startY < -50) {
					text += '上拉事件触发';
					console.log(y - startY)
					bindEvent(1);
				}
				console.log("Text" + text);
			}

			//touchend事件
			function touchEndFunc(evt) {
				//				evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等
				console.log("TouchEnd事件触发");

			}
			//绑定事件
			function bindEvent(f) {
				if(f == 1) {
					Load();
					document.removeEventListener('touchstart', touchSatrtFunc, false);
					document.removeEventListener('touchmove', touchMoveFunc, false);
					document.removeEventListener('touchend', touchEndFunc, false);
				} else {
					document.addEventListener('touchstart', touchSatrtFunc, false);
					document.addEventListener('touchmove', touchMoveFunc, false);
					document.addEventListener('touchend', touchEndFunc, false);
				}
			}
			//判断是否支持触摸事件
			function isTouchDevice() {
				console.log(navigator.appVersion);
				document.createEvent("TouchEvent");
				//alert("支持TouchEvent事件！");
				bindEvent(); //绑定事件

			}
			window.onload = isTouchDevice;
			document.addEventListener('touchstart', isTouchDevice, false);
			document.addEventListener('touchmove', touchMoveFunc, false);
			document.addEventListener('touchend', touchEndFunc, false);
		</script>
	</body>

</html>
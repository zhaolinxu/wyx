<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" cotent="IE=edge,chrome=1" />
		<!--禁止缓存-测试时用-->
		<meta http-equiv="expires" content="0">
		<meta http-equiv="pragma" content="no-cache">
		<meta http-equiv="cache-control" content="no-cache">
		<!--禁止缓存-测试时用-->
		<!--禁止禁止识别电话号码和邮件-->
		<meta name="format-detection" content="telephone=no, email=no" />
		<!--禁止禁止识别电话号码和邮件-->
		<!--移动端1:1显示页面-->
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<title>邀请好友</title>
		<link rel="stylesheet" href="css/invite.css" />
	</head>

	<body>

		<div class="container jilu">
			<div id="wrapper">
				<div id="scroller">
					<div id="pullDown">
						<span class="pullDownIcon"></span><span class="pullDownLabel">下拉刷新</span>
					</div>
					<img class="banner" src="images/banner.png" />
					<div class="box-head">
						<div class="inner"></div>
					</div>
					<div class="box box-top">
						<div class="prize">
							<h2>邀请多多，奖励多多<div></div></h2>
							<div class="dec-1">每成功邀请一位好友注册无忧行</div>
							<!--加class：has-coupon，左边显示红底，右边红字-->
							<!--加class：no-coupon，左边显示灰底，右边灰字-->
							<div class="coupon no-coupon">

								<ul>
									<li><img class="c-1" src="images/couon-l-1.png" /><img class="c-2" src="images/couon-l-2.png" /></li>
									<li><img src="images/couon-r-1.png" />
										<div class="rr">50无忧币</div>
									</li>
									<li><img src="images/couon-r-2.png" /></li>
								</ul>
							</div>
							<div class="dec-2">好友接受邀请并在6天内注册无忧行，<br />您可在本页面领取奖励</div>

							<!--按钮加class：disable，显示灰底-->
							<!--邀请好友按钮-->
							<input class="button btn-yaoqing hide" type="button" name="" id="" value="邀请好友" />
							<!--立即邀请-->
							<input class="button btn-yaoqing hide" type="button" name="" id="" value="立即邀请" />
							<!--领取奖励按钮-->
							<input class="button btn-lingqu " type="button" name="" id="" value="领取所有奖励" />
							<a href="#" class="link-rule">活动规则<img src="images/Invitefriends_icon_question@3x.png" alt="" /></a>
							<!--活动结束右上角标志-->
							<div class="end"><img src="images/Invitefriends_icon_finish@3x.png" /></div>
						</div>
					</div>
					<div class="box-head head-bottom">
						<div class="inner"></div>
					</div>
					<!--没有邀请到  start-->
					<div class="box box-bottom">
						<div class="friends">
							<h2>共<span>0</span>位好友接受邀请<div></div></h2>
							<!--没邀请到好友-->
							<div class="friends-null hide">
								<img class="no-friends" src="images/Invitefriends_icon_empty@3x.png" />
								<div class="dec-3">尚未有好友接受您的邀请</div>
							</div>
							<!--邀请到好友-->
							<div class="friends-full ">
								<ul class="friend-list" id="thelist">
									<li>
										<img class="face" src="images/face.png" alt="" />
										<div class="center">
											<div>kk/13588490313</div>
											<span>已注册无忧行用户</span>
										</div>
										<input class="button disable" type="button" name="" id="" value="已领取" />
									</li>
									<li>
										<img class="face" src="images/face.png" alt="" />
										<div class="center">
											<div>kk/13588490313</div>
											<span>已注册无忧行用户</span>
										</div>
										<input class="button disable" type="button" name="" id="" value="已领取" />
									</li>
									<li>
										<img class="face" src="images/face.png" alt="" />
										<div class="center">
											<div>kk/13588490313</div>
											<span>用户注册后您可领取</span>
										</div>
										<input class="button disable" type="button" name="" id="" value="500枚无忧币" />
									</li>
									<li>
										<img class="face" src="images/face.png" alt="" />
										<div class="center">
											<div>kk/13588490313</div>
											<span>已注册无忧行用户</span>
										</div>
										<input class="button" type="button" name="" id="" value="领取" />
									</li>
									<li>
										<img class="face" src="images/face.png" alt="" />
										<div class="center">
											<div>kk/13588490313</div>
											<span class="failed">您的邀请已过期</span>
										</div>
										<input class="button" type="button" name="" id="" value="再次邀请" />
									</li>
								</ul>
								<div id="pullUp">
									<span class="pullUpIcon"></span><span class="pullUpLabel dec-3">向上滑动加载更多～</span>
								</div>
							</div>
						</div>
					</div>
					<!--没有邀请到 end-->
				</div>

			</div>
		</div>
		<!--规则弹出框-->
		<div class="dialog dialog-rule">
			<div class="dialog-content">
				<h2>活动规则</h2>
				<ul class="rules">
					<li>1. 该活动仅限中国移动用户参与；</li>
					<li>2. 发送至该手机号的奖励需要在无忧行APP内注册后才能使用；</li>
					<li>3. 该奖励领取后请于7天内注册领取，否则奖励失效；</li>
					<li>4. 无忧行保留翻绿范围内的最终解释权；</li>
				</ul>
				<input class="button close" type="button" name="" id="" value="我知道了" />
			</div>
		</div>
		<!--领取成功弹出框-->
		<div class="dialog dialog-success">
			<div class="dialog-content">
				<h2>恭喜您获得</h2>
				<div class="bi">
					<img src="images/Invitefriends_icon_coin@3x.png" />
					<span>50无忧币</span>
				</div>
				<div class="bi">
					<img src="images/Invitefriends_icon_traffic@3x.png" />
					<span>5张流量券</span>
				</div>
				<div class="bi">
					<img src="images/Invitefriends_icon_coupon@3x.png" />
					<span>3张现金券</span>
				</div>
				<div class="info">您共邀请了n位好友注册，继续 邀请获得更多的奖励吧！
				</div>
				<input class="button close" type="button" name="" id="" value="继续邀请" />
			</div>
		</div>
		<script src="js/jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		<script>
			$(function() {
				//弹出框：规则
				$(".link-rule").click(function() {
					$(".dialog-rule").fadeIn(200);

				});
				//弹出框：领取成功
				$(".btn-lingqu").click(function() {
					$(".dialog-success").fadeIn(200);
				});
				//关闭弹出框
				$(".close").click(function() {

					$(".dialog").fadeOut(300);
				});
				var scrollHeight = $(document).height();
				$("#wrapper").css("height", scrollHeight);
				
			});
		</script>
		<!--下拉刷新-->
		<script src="js/iscroll.js"></script>
		<script>
			var myScroll,
				pullDownEl,
				pullDownOffset,
				pullUpEl,
				pullUpOffset,
				generatedCount = 0;
			//下拉刷新
			function pullDownAction() {
				setTimeout(function() { // <-- Simulate network congestion, remove setTimeout from production!
					//					var el, li, i;
					//					el = document.getElementById('thelist');
					//					for(i = 0; i < 3; i++) {
					//						li = document.createElement('li');
					//						li.innerText = 'Generated row ' + (++generatedCount);
					//						el.insertBefore(li, el.childNodes[0]);
					//					}
					myScroll.refresh(); // Remember to refresh when contents are loaded (ie: on ajax completion)
				}, 1000); // <-- Simulate network congestion, remove setTimeout from production!
			}

			function pullUpAction() {
				setTimeout(function() { // <-- Simulate network congestion, remove setTimeout from production!
					var el, li, i;
					el = document.getElementById('thelist');
					for(i = 0; i < 3; i++) {
						li = document.createElement('li');
						li.innerHTML = '<img class="face" src="images/face.png" alt="" /><div class="center"><div>kk/13588490313</div><span>已注册无忧行用户</span></div><input class="button" type="button" name="" id="" value="领取" />';
						el.appendChild(li, el.childNodes[0]);
					}
					myScroll.refresh(); // Remember to refresh when contents are loaded (ie: on ajax completion)
					$('#scroller').animate({  
                  	  scrollTop: $("#pullUp").offset().top  
                		}, 1100);  
				}, 1000); // <-- Simulate network congestion, remove setTimeout from production!
			}

			function loaded() {
				pullDownEl = document.getElementById('pullDown');
				pullDownOffset = pullDownEl.offsetHeight;
				pullUpEl = document.getElementById('pullUp');
				pullUpOffset = pullUpEl.offsetHeight;
				myScroll = new iScroll('wrapper', {
					useTransition: true,
					topOffset: pullDownOffset,
					onRefresh: function() {
						if(pullDownEl.className.match('loading')) {
							pullDownEl.className = '';
							pullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新';
						} else if(pullUpEl.className.match('loading')) {
							pullUpEl.className = '';
							pullUpEl.querySelector('.pullUpLabel').innerHTML = '向上滑动加载更多～';
						}
					},
					onScrollMove: function() {
						if(this.y > 5 && !pullDownEl.className.match('flip')) {
							pullDownEl.className = 'flip';
							pullDownEl.querySelector('.pullDownLabel').innerHTML = '释放刷新...';
							this.minScrollY = 0;
						} else if(this.y < 5 && pullDownEl.className.match('flip')) {
							pullDownEl.className = '';
							pullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新';
							this.minScrollY = -pullDownOffset;
						} else if(this.y < (this.maxScrollY - 30) && !pullUpEl.className.match('flip')) {
							pullUpEl.className = 'flip';
							pullUpEl.querySelector('.pullUpLabel').innerHTML = '释放加载...';
							this.maxScrollY = this.maxScrollY;
						} else if(this.y > (this.maxScrollY + 5) && pullUpEl.className.match('flip')) {
							pullUpEl.className = '';
							pullUpEl.querySelector('.pullUpLabel').innerHTML = '向上滑动加载更多～';
							this.maxScrollY = pullUpOffset;
						}
					},
					onScrollEnd: function() {
						if(pullDownEl.className.match('flip')) {
							pullDownEl.className = 'loading';
							pullDownEl.querySelector('.pullDownLabel').innerHTML = '加载中...';
							pullDownAction(); // Execute custom function (ajax call?)
						} else if(pullUpEl.className.match('flip')) {
							pullUpEl.className = 'loading';
							pullUpEl.querySelector('.pullUpLabel').innerHTML = '加载中...';
							pullUpAction(); // Execute custom function (ajax call?)
						}
					}
				});
				setTimeout(function() { document.getElementById('wrapper').style.left = '0'; }, 800);
			}
			document.addEventListener('touchmove', function(e) { e.preventDefault(); }, false);
			document.addEventListener('DOMContentLoaded', function() { setTimeout(loaded, 200); }, false);
		</script>
	</body>

</html>